# –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–∫–∏ 502

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 1. –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ WSGI (`backend/stimul_ico/wsgi.py`)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–µ—Ä–µ—Ö–≤–∞—Ç –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –í—ã–≤–æ–¥ –ø–æ–ª–Ω–æ–≥–æ traceback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### 2. DEBUG –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Django (`backend/stimul_ico/settings.py`)
- –í–∫–ª—é—á–µ–Ω —É—Ä–æ–≤–µ–Ω—å DEBUG –¥–ª—è –≤—Å–µ—Ö Django –ª–æ–≥–≥–µ—Ä–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥–≥–µ—Ä –¥–ª—è gunicorn.error
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

### 3. DEBUG –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Gunicorn (`gunicorn.conf.py`)
- –ò–∑–º–µ–Ω–µ–Ω loglevel –Ω–∞ 'debug'
- –£–º–µ–Ω—å—à–µ–Ω timeout —Å 120 –¥–æ 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 4. –¢–µ—Å—Ç–æ–≤—ã–µ endpoints

#### `/ultra-simple/`
–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π endpoint –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤, –ë–î, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
–ü—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç "OK - Ultra simple test!".

#### `/health/`
–°—É—â–µ—Å—Ç–≤—É—é—â–∏–π healthcheck —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ë–î.

#### `/test/`
–°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–µ—Å—Ç–æ–≤—ã–π endpoint.

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç WSGI

–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å—Ç—Ä–æ–∫–∏ –≤–∏–¥–∞:
```
‚úÖ WSGI application loaded successfully
üìù Incoming request: GET /
‚úÖ Request completed: GET /
```

–ò–ª–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ:
```
üìù Incoming request: GET /
‚ùå Request failed: GET /
‚ùå Error: SomeError: details
Traceback...
```

### 2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ endpoints

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ —á–µ—Ä–µ–∑ curl:

```bash
# –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π
curl https://stimulico-production.up.railway.app/ultra-simple/

# Healthcheck
curl https://stimulico-production.up.railway.app/health/

# –ì–ª–∞–≤–Ω–∞—è
curl https://stimulico-production.up.railway.app/

# –ê–¥–º–∏–Ω–∫–∞
curl https://stimulico-production.up.railway.app/admin/
```

### 3. –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### –ï—Å–ª–∏ `/ultra-simple/` —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ `/` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–ü—Ä–æ–±–ª–µ–º–∞ –≤:
- Middleware (CSRF, Session, WhiteNoise, etc.)
- URL routing –≤ stimuli app
- Views –≤ stimuli app

#### –ï—Å–ª–∏ –≤—Å–µ endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 502
–ü—Ä–æ–±–ª–µ–º–∞ –≤:
- Gunicorn –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- WSGI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- Railway proxy –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –ï—Å–ª–∏ –≤ –ª–æ–≥–∞—Ö –≤–∏–¥–Ω—ã —Ç—Ä–µ–π—Å–±–µ–∫–∏
–ü—Ä–æ–±–ª–µ–º–∞ —è—Å–Ω–∞ –∏–∑ stacktrace.

#### –ï—Å–ª–∏ –≤ –ª–æ–≥–∞—Ö –≤–æ–æ–±—â–µ –Ω–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
–ü—Ä–æ–±–ª–µ–º–∞ –≤:
- Railway proxy –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- Gunicorn —É–ø–∞–ª –∏–ª–∏ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
- –ü–æ—Ä—Ç 8080 –Ω–µ –æ—Ç–∫—Ä—ã—Ç –∏–ª–∏ –Ω–µ —Å–ª—É—à–∞–µ—Ç—Å—è

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã 502

### 1. Worker timeout
–ó–∞–ø—Ä–æ—Å –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ 30 —Å–µ–∫—É–Ω–¥ (—Ç–µ–ø–µ—Ä—å), worker —É–±–∏–≤–∞–µ—Ç—Å—è Gunicorn'–æ–º.
**–†–µ—à–µ–Ω–∏–µ**: –£–≤–µ–ª–∏—á–∏—Ç—å timeout –∏–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥.

### 2. Worker crash
Worker –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞ (exception –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω).
**–†–µ—à–µ–Ω–∏–µ**: –°–º–æ—Ç—Ä–µ—Ç—å traceback –≤ –ª–æ–≥–∞—Ö.

### 3. Database connection
–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ PostgreSQL –∏–ª–∏ –¥–æ–ª–≥–∏–µ –∑–∞–ø—Ä–æ—Å—ã.
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DATABASE_URL –∏ conn_max_age.

### 4. Memory limit
Worker —É–±–∏–≤–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏.
**–†–µ—à–µ–Ω–∏–µ**: –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ worker'–æ–≤ –∏–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏.

### 5. Middleware –ø—Ä–æ–±–ª–µ–º—ã
–ö–∞–∫–æ–π-—Ç–æ middleware –ø–∞–¥–∞–µ—Ç –∏–ª–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã.
**–†–µ—à–µ–Ω–∏–µ**: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∞—Ç—å middleware –ø–æ –æ–¥–Ω–æ–º—É.

### 6. Static files
WhiteNoise –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã.
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å STATIC_ROOT –∏ collectstatic.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–î–µ–ø–ª–æ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π** - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏** - –∏—Å–∫–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç WSGI wrapper
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å endpoints** - –Ω–∞—á–∏–Ω–∞—è —Å `/ultra-simple/`
4. **–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å traceback** - –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤ —Å –Ω–æ–≤–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π –±—É–¥–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞.

